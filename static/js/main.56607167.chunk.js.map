{"version":3,"sources":["App.js","index.js"],"names":["LargerContent","styled","Content","MyIconButton","IconButton","Date","App","useState","count","setCount","index","setIndex","day","setDay","playing","setPlaying","imgLoaded","setImgLoaded","useQuery","fetch","then","response","json","loading","data","isLoading","isSuccess","isError","error","isFetching","useEffect","timer","window","setInterval","photos","length","clearInterval","changeDay","increment","selectPhoto","id","onClick","icon","style","width","height","text","type","marginBottom","Heading","headingType","level","src","img_src","alt","onLoad","PrimaryButton","queryClient","QueryClient","console","log","process","NASA_KEY","ReactDOM","render","StrictMode","QueryClientProvider","client","theme","initialIsOpen","document","getElementById"],"mappings":"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","file":"static/js/main.56607167.chunk.js","sourcesContent":["import './App.css';\r\nimport {useEffect, useRef, useState} from \"react\";\r\nimport {useQuery, useQueryClient} from \"react-query\";\r\nimport {\r\n    PrimaryButton,\r\n    Heading,\r\n    HEADING_LEVELS,\r\n    HEADING_TYPES,\r\n    Content,\r\n    IconArrowForward,\r\n    IconButton,\r\n    IconArrowBack, Button, centerContent, IconPageFirst, IconPageLast, BUTTON_SIZES\r\n} from \"cdk-radial\";\r\nimport styled from \"styled-components\";\r\n\r\nconst NASA='ejc8deZ6EZL57fgvQknVjbfD7E4Wai0yKWnoTgIq'; //See https://api.nasa.gov/\r\n\r\nconst LargerContent = styled(Content)`\r\n  font-size: 50px;\r\n`;\r\nconst MyIconButton = styled(IconButton)`\r\n  width: 3.5em;\r\n  height: 3.5em;\r\n`;\r\nconst Date = styled(Content)`\r\n  margin: auto 10px;\r\n  font-size: 1em\r\n`;\r\n\r\n\r\nfunction App() {\r\n    const [count, setCount] = useState(0);\r\n    const [index, setIndex] = useState(0);\r\n    const [day, setDay] = useState(23);\r\n    const [playing, setPlaying] = useState(false);\r\n    const [imgLoaded, setImgLoaded] = useState(false);\r\n    const {loading, data, isLoading, isSuccess, isError, error, isFetching} = useQuery(['rover', day], () => {\r\n        return fetch('https://api.nasa.gov/mars-photos/api/v1/rovers/perseverance/photos' +\r\n            '?earth_date=2021-06-' + (day+1) +\r\n            '&api_key=' + NASA).then(response => response.json())\r\n    });\r\n\r\n    useEffect(() => {\r\n        const timer = window.setInterval(() => {\r\n            if(count%50===0 && playing && imgLoaded) {\r\n                setImgLoaded(false);\r\n                setIndex((index + 1) % data?.photos?.length)\r\n            }\r\n            setCount(count+1);\r\n        }, 1)\r\n        return () => {\r\n            window.clearInterval(timer);\r\n        }\r\n    })\r\n\r\n    const changeDay = (increment) => {\r\n        setDay ((day + increment+ 30)%30)\r\n        setIndex(0);\r\n        setPlaying(false);\r\n    }\r\n\r\n    const selectPhoto = (increment) => {\r\n        setIndex(((index + increment + data?.photos?.length) ?? 0)%((data?.photos?.length) ?? 1))\r\n    }\r\n    return (\r\n        <div id=\"App\" >\r\n        <div id=\"Day-Controls\">\r\n                {/*<LeftButton onClick ={() => changeDay(-1)} text=\"Previous Day\"/>*/}\r\n                <IconButton onClick={() => changeDay(-1)} icon={<IconPageFirst/>}/>\r\n                <Date>06/{day+1}/21</Date>\r\n                <IconButton onClick={() => changeDay(1)} icon={<IconPageLast/>}/>\r\n            </div>\r\n            <div id=\"Image-Controls\">\r\n                <MyIconButton onClick ={() => selectPhoto(-1)} icon={<IconArrowBack style={{width: '3em', height: '3em'}}/>} text=\"Previous\"/>\r\n                <LargerContent type=\"body-2\">{(data?.photos?.length || isLoading) ? ((imgLoaded? index+1: index) ?? 0) : \"None\"}</LargerContent>\r\n                <Content style={{marginBottom: \"18px\"}}> {(data?.photos?.length || isLoading) ? (\"\\xa0/\\xa0\" + (data?.photos?.length ?? \"...\")) : \"\"}</Content>\r\n                <MyIconButton onClick ={() => selectPhoto(1)} icon={<IconArrowForward style={{width: '3em', height: '3em'}}/>} text=\"Next\"/>\r\n            </div>\r\n            <div id=\"Image-View\">\r\n                <Heading headingType=\"display-1\" level={1}>{(loading || isLoading ) && \"Loading...\"}</Heading>\r\n                {(isSuccess && !isLoading) && <img src={data?.photos[index]?.img_src} alt=\"No Photos For This Day\" onLoad={() => setImgLoaded(true)}/>}\r\n                {isError && \"\" + error}\r\n            </div>\r\n            <div id=\"Play-Pause\">\r\n                <PrimaryButton onClick={() => setPlaying(!playing)}text={\"Play/Pause\"}></PrimaryButton>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {QueryClient, QueryClientProvider} from \"react-query\";\r\nimport {ReactQueryDevtools} from \"react-query/devtools\";\r\nimport { ThemeProvider} from \"styled-components\";\r\nimport { theme} from \"cdk-radial\";\r\nimport dotenv from \"dotenv\";\r\n\r\n\r\nconst queryClient = new QueryClient();\r\nconsole.log(process.env.NASA_KEY);\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n      <QueryClientProvider client={queryClient}>\r\n          <ThemeProvider theme={theme} >\r\n              <App/>\r\n          </ThemeProvider>\r\n          <ReactQueryDevtools initialIsOpen={true}/>\r\n      </QueryClientProvider>\r\n\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}